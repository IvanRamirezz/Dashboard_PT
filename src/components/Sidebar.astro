---
import icono from "../../public/assets/icon.png";
const currentPath = Astro.url.pathname.replace(/\/+$/, '') || '/';
const base = import.meta.env.BASE_URL;


const navItems = [
  { href: '/Dashboard', icon: '/assets/inicio.png', label: 'Inicio' },
  { href: '/Asignar', icon: '/assets/asignar.png', label: 'Asignar' },
  { href: '/Alumnos', icon: '/assets/alumno.png', label: 'Alumnos' },
  { href: '/Practicas', icon: '/assets/practicas.png', label: 'Practicas' },
  { href: '/Cargar-grupo', icon: '/assets/cargando.png', label: 'Cargar grupo' },


  // { href: '/', icon: '/assets/salida.png', label: 'Cerrar sesión', logout: true }
  { href: '/Dashboard', icon: '/assets/salida.png', label: 'Cerrar sesión',logout: true}
];

---
<div class="sidebar">
  <div class="sidebar-title">
    <img src={icono.src} alt="icono" class="icon" />
    Dashboard
  </div>

  <nav class="nav-section">
    {navItems
      .filter(item => !item.logout)
      .map(({ href, icon, label }) => {
        const fullHref = `/${base.replace(/^\/|\/$/g, '')}/${href.replace(/^\/|\/$/g, '')}`.replace(/\/+$/, '');
        const isActive = currentPath === fullHref;

        return (
          <a href={fullHref} class={`nav-item ${isActive ? 'active' : ''}`}>
            <img src={`${base}${icon}`} class="icon" />
            {label}
          </a>
        );
      })}
  </nav>

  {/* Sección de logout abajo */}
  <div class="logout-section">
    {navItems
      .filter(item => item.logout)
      .map(({ href, icon, label }) => (
        <a href={href} class="nav-item logout">
          <img src={`${base}${icon}`} class="icon" />
          {label}
        </a>
      ))}
  </div>
</div>

<style>
  .sidebar {
  display: flex;
  flex-direction: column;
  height: 100vh;
}

.nav-section {
  flex: 1;         /* Ocupa todo el espacio disponible */
}

.logout-section {
  margin-top: auto;   /* Empuja el logout al fondo */
  padding-bottom: 1rem;
}

.nav-item.logout {
  color: #e11d48;
}

.nav-item.logout:hover {
  background-color: #fee2e2;
}

</style>

