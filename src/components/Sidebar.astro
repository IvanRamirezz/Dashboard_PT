---
const currentPath = Astro.url.pathname.replace(/\/+$/, '') || '/';
const base = import.meta.env.BASE_URL;

const navItems = [
  { href: '/', icon: 'assets/inicio.png', label: 'Inicio' },
  { href: '/Asignar', icon: 'assets/asignar.png', label: 'Asignar' },
  { href: '/Alumnos', icon: 'assets/alumno.png', label: 'Alumnos' },
  { href: '/Cargar-grupo', icon: 'assets/cargando.png', label: 'Cargar grupo' },
];
---
<div class="sidebar">
  <div class="sidebar-title">
    <img src={`${base}assets/icon.png`} alt="icono" class="icon" />
    Dashboard
  </div>
  <nav>
    {navItems.map(({ href, icon, label }) => {
      const fullHref = `${base}${href.replace(/^\//, '')}`.replace(/\/+$/, '') || '/';
      const isActive = currentPath === fullHref;

      return (
        <a href={fullHref} class={`nav-item ${isActive ? 'active' : ''}`}>
          <img src={`${base}${icon}`} class="icon" />
          {label}
        </a>
      );
    })}
  </nav>
</div>
