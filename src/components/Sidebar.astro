---
import icono from "../../public/assets/icon.png";
const currentPath = Astro.url.pathname.replace(/\/+$/, '') || '/';
const base = import.meta.env.BASE_URL;


const navItems = [
  { href: '/', icon: icono.src, label: 'Inicio' },
  { href: '/Asignar', icon: '../../public/assets/asignar.png', label: 'Asignar' },
  { href: '/Alumnos', icon: '../../public/assets/alumno.png', label: 'Alumnos' },
  { href: '/Cargar-grupo', icon: '../../public/assets/cargando.png', label: 'Cargar grupo' },
];
---
<div class="sidebar">
  <div class="sidebar-title">
    <img src={icono.src} alt="icono" class="icon" />
    Dashboard
  </div>
  <nav>
    {navItems.map(({ href, icon, label }) => {
      const fullHref = `/${base.replace(/^\/|\/$/g, '')}/${href.replace(/^\/|\/$/g, '')}`.replace(/\/+$/, '');
      const isActive = currentPath === fullHref;

      return (
        <a href={fullHref} class={`nav-item ${isActive ? 'active' : ''}`}>
          <img src={`${base}${icon}`} class="icon" />
          {label}
        </a>
      );
    })}
  </nav>
</div>
